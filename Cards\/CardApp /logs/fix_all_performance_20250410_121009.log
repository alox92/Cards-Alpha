[0;34mDate de d√©marrage: 10/04/2025 12:10:09[0m
[0;34mJournal: logs/fix_all_performance_20250410_121009.log[0m
[0;36mCe script va ex√©cuter plusieurs outils pour corriger les probl√®mes[0m
[0;36mde performance, de m√©moire et d'utilisation de CoreData dans votre projet.[0m
[1;33mLes corrections appliqu√©es incluent:[0m
[1;33m‚úì Ajout de [weak self] dans les closures[0m
[1;33m‚úì Optimisation des requ√™tes CoreData[0m
[1;33m‚úì Ajout de @MainActor aux m√©thodes appropri√©es[0m
[1;33m‚úì Correction des r√©f√©rences fortes √† des d√©l√©gu√©s[0m
[1;33m‚úì Am√©lioration de la gestion d'erreurs[0m
[0;34m
[1m[0;36m=== V√©rification de l'environnement ===[0m[0m
[0;32m‚úÖ Swift trouv√©: Apple Swift version 6.1 (swiftlang-6.1.0.110.21 clang-1700.0.13.3)[0m
[0;32m‚úÖ Xcode trouv√©: Xcode 16.3[0m
[0;34m[1m[0;36m=== Analyse de Performance ===[0m[0m
[0;36mEx√©cution de performance_analyzer.sh...[0m
[0;34m[1m[0;36m=== D√âMARRAGE DE L'ANALYSE DE PERFORMANCE GLOBALE ===[0m[0m
[0;36mDate: 10/04/2025 12:12:12[0m
[0;36mProjet: /Users/alox/Downloads/CardsNew/Cards_Fixed/CardApp 22-38-19-211[0m
[0;36mRapports: reports/performance_20250410_121212[0m

[0;34m
[1müîç Analyse des fuites m√©moire...[0m[0m
[0;36mRecherche des cycles de r√©f√©rence potentiels...[0m
grep: invalid repetition count(s)
[0;32m‚úÖ Aucune fuite m√©moire potentielle d√©tect√©e[0m
[0;34m
[1müîç Analyse de performance CoreData...[0m[0m
[0;36mRecherche des requ√™tes non optimis√©es...[0m
[1;33m‚ö†Ô∏è D√©tect√©      118 requ√™tes sans fetchBatchSize[0m
[1;33m‚ö†Ô∏è D√©tect√©       47 op√©rations viewContext sans @MainActor[0m
[0;34m
[1müîç Ex√©cution de l'analyseur statique Python...[0m[0m
[0;36mAnalyse des probl√®mes de m√©moire et concurrence...[0m
usage: swift_analyzer.py [-h] [-o OUTPUT]
                         [-t {memory,concurrency,coredata,dependency,all} [{memory,concurrency,coredata,dependency,all} ...]]
                         [-v]
                         project_path
swift_analyzer.py: error: unrecognized arguments: --include-memory --include-concurrency --include-coredata
[0;31m‚ùå √âchec de l'analyse Python[0m
[0;34m
[1müîç Ex√©cution de l'analyseur de performance Rust...[0m[0m
[0;36mAnalyse multi-thread des probl√®mes de performance...[0m
[0;31m‚ùå cargo n'est pas install√©[0m
[1;33m‚ö†Ô∏è L'analyse Rust a √©t√© ignor√©e car Cargo n'est pas install√©[0m
[0;34m
[1müîç Ex√©cution du diagnostic CoreData Swift...[0m[0m
[1;33m‚ö†Ô∏è Le fichier de diagnostic CoreData n'existe pas[0m
[0;34m
[1müìù G√©n√©ration du rapport de synth√®se...[0m[0m
[0;32m‚úÖ Rapport de synth√®se g√©n√©r√©: reports/performance_20250410_121212/summary.md[0m

[1m[0;36m=== R√âSUM√â DE L'ANALYSE DE PERFORMANCE ===[0m


Date: 10/04/2025 12:12:13


Cette analyse a identifi√© plusieurs probl√®mes de performance dans l'application CardApp.
Les sections ci-dessous d√©taillent les r√©sultats de chaque type d'analyse.


1. **Fuites m√©moire** : Ajouter syst√©matiquement `[weak self]` dans les closures
2. **Performance CoreData** : Utiliser `fetchBatchSize` et `fetchLimit` pour toutes les requ√™tes
3. **Concurrence** : Ajouter `@MainActor` aux m√©thodes utilisant `viewContext`
4. **Optimisation des mod√®les** : Cr√©er des index pour les attributs fr√©quemment recherch√©s
5. **Contextes** : Utiliser des contextes d'arri√®re-plan pour les op√©rations lourdes


Ex√©cutez les scripts de correction automatique pour r√©soudre ces probl√®mes :

```bash
./analysis_tools/fix_memory_leaks.sh    # Corrige les cycles de r√©f√©rence
./analysis_tools/fix_coredata_perf.sh   # Optimise les requ√™tes CoreData
```

Pour une correction compl√®te de tous les probl√®mes identifi√©s :

```bash
./analysis_tools/fix_all_performance.sh
```

[0;34müìù Rapports complets disponibles dans: reports/performance_20250410_121212[0m
[0;34m
[1müìä G√©n√©ration du rapport HTML...[0m[0m
[0;36mCr√©ation du rapport visuel...[0m

> cardapp-analysis-visualizer@1.0.0 start
> node src/cli.js --reports reports/performance_20250410_121212/*.json --output reports/performance_20250410_121212/rapport_performance.html --format html

node:internal/modules/cjs/loader:1247
  throw err;
  ^

Error: Cannot find module 'fs-extra'
Require stack:
- /Users/alox/Downloads/CardsNew/Cards_Fixed/CardApp 22-38-19-211/analysis_tools/node_visualizer/src/cli.js
    at Function._resolveFilename (node:internal/modules/cjs/loader:1244:15)
    at Function._load (node:internal/modules/cjs/loader:1070:27)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)
    at Module.require (node:internal/modules/cjs/loader:1335:12)
    at require (node:internal/modules/helpers:136:16)
    at Object.<anonymous> (/Users/alox/Downloads/CardsNew/Cards_Fixed/CardApp 22-38-19-211/analysis_tools/node_visualizer/src/cli.js:8:12)
    at Module._compile (node:internal/modules/cjs/loader:1562:14)
    at Object..js (node:internal/modules/cjs/loader:1699:10)
    at Module.load (node:internal/modules/cjs/loader:1313:32) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/alox/Downloads/CardsNew/Cards_Fixed/CardApp 22-38-19-211/analysis_tools/node_visualizer/src/cli.js'
  ]
}

Node.js v22.13.1
[0;31m‚ùå √âchec de la g√©n√©ration du rapport HTML[0m
[0;32m[1m[0;32m=== ANALYSE DE PERFORMANCE TERMIN√âE ===[0m[0m
[0;36müìä Consultez les rapports dans: reports/performance_20250410_121212[0m
[0;32m‚úÖ performance_analyzer.sh ex√©cut√© avec succ√®s[0m
[0;34m[1m[0;36m=== Correction des Fuites M√©moire ===[0m[0m
[0;36mEx√©cution de fix_memory_leaks.sh...[0m
[0;34m[1m[0;36m=== D√âMARRAGE DES CORRECTIONS DE FUITES M√âMOIRE ===[0m[0m
[0;36mDate: 10/04/2025 12:12:15[0m
[0;36mR√©pertoire de sauvegarde: backups_memory_leaks_20250410_121215[0m

[0;34m
[1müîç Analyse des closures sans [weak self]...[0m[0m
[0;36mAnalyse de ./Core/Extensions/NSManagedObjectContext+Async.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_memory_leaks_20250410_121215/NSManagedObjectContext+Async.swift[0m
[0;32m‚úÖ Corrig√© 0/       2 fuites potentielles dans ./Core/Extensions/NSManagedObjectContext+Async.swift[0m
[0;36mAnalyse de ./Core/Utilities/Extensions/ViewExtensions.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Utilities/Extensions/ViewExtensions.swift[0m
[0;36mAnalyse de ./Core/Utilities/Base/Combine+Async.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_memory_leaks_20250410_121215/Combine+Async.swift[0m
[0;32m‚úÖ Corrig√© 0/       2 fuites potentielles dans ./Core/Utilities/Base/Combine+Async.swift[0m
[0;36mAnalyse de ./Core/Persistence/CoreDataMigration.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Persistence/CoreDataMigration.swift[0m
[0;36mAnalyse de ./Core/Persistence/CoreDataConversionUtils.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Persistence/CoreDataConversionUtils.swift[0m
[0;36mAnalyse de ./Core/Protocols/CloudSyncServiceProtocol.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Protocols/CloudSyncServiceProtocol.swift[0m
[0;36mAnalyse de ./Core/Services/Statistics/StatisticsServiceProtocol.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Statistics/StatisticsServiceProtocol.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_memory_leaks_20250410_121215/UnifiedTagService.swift[0m
[0;32m‚úÖ Corrig√© 1/       6 fuites potentielles dans ./Core/Services/Unified/UnifiedTagService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Unified/UnifiedCardService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Unified/UnifiedStudyService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Unified/UnifiedDeckService.swift[0m
[0;36mAnalyse de ./Core/Services/Tags/TagService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Tags/TagService.swift[0m
[0;36mAnalyse de ./Core/Services/Tags/TagItemAssociationService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Tags/TagItemAssociationService.swift[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Base/DataManagementService.swift[0m
[0;36mAnalyse de ./Core/Services/Stats/StatisticsViewModel.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Stats/StatisticsViewModel.swift[0m
[0;36mAnalyse de ./Core/Services/Stats/StatisticsView.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./Core/Services/Stats/StatisticsView.swift[0m
[0;36mAnalyse de ./App/AppStartup.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./App/AppStartup.swift[0m
[0;36mAnalyse de ./App/AppMain.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./App/AppMain.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[0;32m‚úì Aucune fuite potentielle d√©tect√©e dans ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift[0m
[0;34m
[1müîç Analyse des d√©l√©gu√©s sans weak...[0m[0m
[0;36mAnalyse de ./App/AppMain.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_memory_leaks_20250410_121215/AppMain.swift[0m
[0;32m‚úÖ Ajout de weak √† 0 d√©l√©gu√©s dans ./App/AppMain.swift[0m
[0;32m
[1m[0;32m=== CORRECTIONS TERMIN√âES ===[0m[0m
[0;32m‚úÖ 1/10 fuites potentielles corrig√©es dans 4/      19 fichiers[0m
[0;36müìù Journal des modifications: logs/memory_leak_fixes_20250410_121215.log[0m
[0;36müìä Rapport d√©taill√©: backups_memory_leaks_20250410_121215/memory_leaks_report.md[0m
[0;36müíæ Les fichiers originaux ont √©t√© sauvegard√©s dans: backups_memory_leaks_20250410_121215[0m

[1;33m[1;33mNote: Certaines modifications complexes peuvent n√©cessiter une v√©rification manuelle.[0m[0m
[1;33m[1;33mNous vous recommandons de compiler et tester l'application apr√®s ces modifications.[0m[0m
[0;32m‚úÖ fix_memory_leaks.sh ex√©cut√© avec succ√®s[0m
[0;34m[1m[0;36m=== Optimisation CoreData ===[0m[0m
[0;36mEx√©cution de fix_coredata_perf.sh...[0m
[0;34m[1m[0;36m=== D√âMARRAGE DES CORRECTIONS DE PERFORMANCE COREDATA ===[0m[0m
[0;36mDate: 10/04/2025 12:12:17[0m
[0;36mR√©pertoire de sauvegarde: backups_coredata_perf_20250410_121217[0m

[0;34m
[1müîß Ajout de fetchBatchSize aux requ√™tes...[0m[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Tools/CoreDataOptimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Managers/CoreDataManager.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Models/Data/MediaEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/MediaEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/MediaEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/DeckEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/DeckEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/DeckEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/StudySessionEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/StudySessionEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/StudySessionEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/CardEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CardEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/CardEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/TagEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/TagEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/TagEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/CardReviewEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CardReviewEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/CardReviewEntity.swift[0m
[0;36mAnalyse de ./Core/Models/Data/TagItemAssociationEntity.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/TagItemAssociationEntity.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Models/Data/TagItemAssociationEntity.swift[0m
[0;36mAnalyse de ./Core/Protocols/DataManagementServiceProtocol.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/DataManagementServiceProtocol.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Protocols/DataManagementServiceProtocol.swift[0m
[0;36mAnalyse de ./Core/Services/Study/StudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Example/ThreadSafeCoreDataService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./Core/Debug/CoreDataDiagnostics.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataDiagnostics.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./Core/Debug/CoreDataDiagnostics.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataDiagnostic.swift[0m
[0;32m‚úÖ Ajout de fetchBatchSize √† ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataFixer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;36mAnalyse de ./CoreDataOptimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de NSFetchRequest[0m
[0;34m
[1müîß Ajout de @MainActor aux m√©thodes utilisant viewContext...[0m[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/DI/DependencyContainer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Managers/CoreDataManager.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Persistence/PersistenceController.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/AppDelegate.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataDiagnostic.swift[0m
[0;32m‚úÖ Ajout de @MainActor √† ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataFixer.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataFixer.swift[0m
[0;32m‚úÖ Ajout de @MainActor √† ./analysis_tools/swift_coredata_diagnostic/CoreDataFixer.swift[0m
[0;36mAnalyse de ./run_core_data_optimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne contient pas de viewContext[0m
[0;36mAnalyse de ./CoreDataOptimizer.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataOptimizer.swift[0m
[0;32m‚úÖ Ajout de @MainActor √† ./CoreDataOptimizer.swift[0m
[0;34m
[1müîß Optimisation des contextes d'arri√®re-plan...[0m[0m
[0;36mAnalyse de ./.build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./.build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet+Partial...[0m
grep: ./.build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet+Partial: No such file or directory
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de RangeReplaceableCollection.swift...[0m
grep: RangeReplaceableCollection.swift: No such file or directory
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./.build/checkouts/swift-collections/Sources/OrderedCollections/HashTable/_HashTable+UnsafeHandle.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./.build/index-build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./.build/index-build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet+Partial...[0m
grep: ./.build/index-build/checkouts/swift-collections/Sources/OrderedCollections/OrderedSet/OrderedSet+Partial: No such file or directory
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de RangeReplaceableCollection.swift...[0m
grep: RangeReplaceableCollection.swift: No such file or directory
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./.build/index-build/checkouts/swift-collections/Sources/OrderedCollections/HashTable/_HashTable+UnsafeHandle.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/UnifiedTagService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift[0m
[0;36mAnalyse de ./Core/Tools/CoreDataOptimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Managers/CoreDataManager.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataManager.swift[0m
[1;33m‚ö†Ô∏è Des modifications manuelles plus complexes sont n√©cessaires pour ./Core/Managers/CoreDataManager.swift[0m
[0;36mAnalyse de ./Core/Persistence/CoreDataModel.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Persistence/PersistenceController.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Study/StudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Example/ThreadSafeCoreDataService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/UnifiedTagService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./Core/Services/Unified/UnifiedTagService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/UnifiedCardService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./Core/Services/Unified/UnifiedCardService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/UnifiedStudyService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./Core/Services/Unified/UnifiedStudyService.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/UnifiedDeckService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./Core/Services/Unified/UnifiedDeckService.swift[0m
[0;36mAnalyse de ./Core/Services/Tags/TagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Tags/TagItemAssociationService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/AppDelegate.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/DataManagementService.swift[0m
[0;32m‚úÖ Optimisation des contextes dans ./Core/Services/Base/DataManagementService.swift[0m
[0;36mAnalyse de ./Core/Debug/CoreDataDiagnostics.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataDiagnostic.swift[0m
[1;33m‚ö†Ô∏è Des modifications manuelles plus complexes sont n√©cessaires pour ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataFixer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./run_core_data_optimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./CoreDataOptimizer.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataOptimizer.swift[0m
[1;33m‚ö†Ô∏è Des modifications manuelles plus complexes sont n√©cessaires pour ./CoreDataOptimizer.swift[0m
[0;34m
[1müîß Ajout de la gestion d'erreurs pour les op√©rations CoreData...[0m[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Managers/CoreDataManager.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Persistence/PersistenceController.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Study/StudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Example/ThreadSafeCoreDataService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataFixer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./run_core_data_optimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./CoreDataOptimizer.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;34m
[1müîß Ajout de [weak self] dans les closures CoreData...[0m[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/NSManagedObjectContext+Async.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/NSManagedObjectContext+Async.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./backups_memory_leaks_20250410_121215/NSManagedObjectContext+Async.swift[0m
[0;36mAnalyse de ./backups_memory_leaks_20250410_121215/AppMain.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/AppMain.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./backups_memory_leaks_20250410_121215/AppMain.swift[0m
[0;36mAnalyse de ./Core/Extensions/NSManagedObjectContext+Async.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/NSManagedObjectContext+Async.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./Core/Extensions/NSManagedObjectContext+Async.swift[0m
[0;36mAnalyse de ./Core/Utilities/Extensions/ViewExtensions.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Persistence/CoreDataMigration.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Persistence/CoreDataConversionUtils.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Protocols/CloudSyncServiceProtocol.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Statistics/StatisticsServiceProtocol.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/StatisticsServiceProtocol.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./Core/Services/Statistics/StatisticsServiceProtocol.swift[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedTagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedCardService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedStudyService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Unified/UnifiedDeckService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Tags/TagService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Tags/TagItemAssociationService.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/TagItemAssociationService.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./Core/Services/Tags/TagItemAssociationService.swift[0m
[0;36mAnalyse de ./Core/Services/Base/DataManagementService.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Stats/StatisticsViewModel.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./Core/Services/Stats/StatisticsView.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/StatisticsView.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./Core/Services/Stats/StatisticsView.swift[0m
[0;36mAnalyse de ./App/AppStartup.swift...[0m
[1;33m‚è© Fichier d√©j√† optimis√© ou ne n√©cessite pas d'optimisation[0m
[0;36mAnalyse de ./App/AppMain.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/AppMain.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./App/AppMain.swift[0m
[0;36mAnalyse de ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift...[0m
[0;34mSauvegarde cr√©√©e: backups_coredata_perf_20250410_121217/CoreDataDiagnostic.swift[0m
[0;32m‚úÖ Ajout de [weak self] √† ./analysis_tools/swift_coredata_diagnostic/CoreDataDiagnostic.swift[0m
[0;32m
[1m[0;32m=== CORRECTIONS TERMIN√âES ===[0m[0m
[0;32m‚úÖ Toutes les corrections ont √©t√© appliqu√©es[0m
[0;36müìù Journal des modifications: logs/coredata_perf_fixes_20250410_121217.log[0m
[0;36müíæ Les fichiers originaux ont √©t√© sauvegard√©s dans: backups_coredata_perf_20250410_121217[0m

[1;33m[1;33mNote: Certaines modifications complexes peuvent n√©cessiter une v√©rification manuelle.[0m[0m
[1;33m[1;33mNous vous recommandons de compiler et tester l'application apr√®s ces modifications.[0m[0m
[0;32m‚úÖ fix_coredata_perf.sh ex√©cut√© avec succ√®s[0m
[0;34m[1m[0;36m=== Compilation du projet ===[0m[0m
[0;31m‚ùå Aucun fichier .xcodeproj ou .xcworkspace trouv√© √† la racine du projet.[0m
[0;36m[1m[0;36m=====================================================[0m[0m
[0;36m[1m[0;36m    R√âSUM√â DES CORRECTIONS DE PERFORMANCE    [0m[0m
[0;36m[1m[0;36m=====================================================[0m[0m
[0;32m‚úÖ Analyse et correction des fuites m√©moire[0m
[0;32m‚úÖ Optimisation des requ√™tes CoreData[0m
[0;32m‚úÖ Am√©lioration de la gestion de concurrence[0m
[0;36müìä Les rapports d√©taill√©s sont disponibles dans les r√©pertoires:[0m
[0;36m   - logs/           - Journaux d'ex√©cution[0m
[0;36m   - reports/        - Rapports d'analyse[0m
[0;36m   - backups_*/      - Sauvegardes des fichiers modifi√©s[0m
[1;33m[1m[1;33mProchaines √©tapes recommand√©es:[0m[0m
[1;33m1. V√©rifiez le code corrig√© pour vous assurer qu'il fonctionne comme pr√©vu[0m
[1;33m2. Ex√©cutez des tests unitaires et d'int√©gration[0m
[1;33m3. Utilisez l'Instrument Leaks de Xcode pour v√©rifier l'absence de fuites m√©moire[0m
[1;33m4. Utilisez le Time Profiler pour valider les am√©liorations de performance[0m
[0;32m[1m[0;32mProcessus de correction de performance termin√© avec succ√®s![0m[0m
[0;34mDate de fin: 10/04/2025 12:12:23[0m
